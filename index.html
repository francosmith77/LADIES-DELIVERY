<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LADIS Delivery ‚Ä¢ Carta Digital</title>
  <meta name="description" content="Carta digital de LADIS Delivery con variantes, carrito y pedido por WhatsApp." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg:#0e0f10;           /* negro suave */
      --panel:#141518;        /* paneles */
      --panel-2:#1a1c20;      /* paneles secundarios */
      --text:#ffffff;         /* texto principal */
      --muted:#cfd5df;        /* texto suave */
      --brand:#ef4444;        /* rojo botones */
      --accent:#ffd60a;       /* amarillo t√≠tulos */
      --border:rgba(255,255,255,.10);
      --shadow:0 10px 30px rgba(0,0,0,.45);
      --ok:#22c55e;
    }
    body{ font-family:'Inter',system-ui; background:var(--bg); color:var(--text); }
    .title-yellow{ color:var(--accent); text-shadow:0 2px 20px rgba(255,214,10,.18); }
    .muted{ color:var(--muted); }
    .panel{ background:var(--panel); border:1px solid var(--border); }
    .card{ border:1px solid var(--border); border-radius:16px; overflow:hidden; background:#0b0c0e; }
    .badge{ font-size:.75rem; font-weight:700; padding:.25rem .5rem; border-radius:999px; background:rgba(0,0,0,.55); color:#fff; border:1px solid var(--border); backdrop-filter:blur(4px); }
    .img-grad::after{ content:""; position:absolute; inset:0; background:linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,0)); }
    .btn{ display:inline-flex; align-items:center; justify-content:center; padding:.6rem 1rem; border-radius:12px; font-weight:800; background:var(--brand); color:#fff; box-shadow:0 6px 16px rgba(239,68,68,.35);}
    .btn:active{ transform:translateY(1px); }
    .btn-outline{ display:inline-flex; align-items:center; justify-content:center; padding:.5rem .9rem; border-radius:12px; font-weight:700; border:2px solid var(--brand); color:var(--brand); background:transparent;}
    .pill{ white-space:nowrap; padding:.5rem .75rem; border-radius:999px; border:1px solid var(--border); color:var(--muted); background:#0e0f10; }
    .pill.active{ background:var(--panel-2); color:#fff; border-color:rgba(255,214,10,.35); box-shadow:inset 0 0 0 1px rgba(255,214,10,.2); }

    .sticky-nav{ background:rgba(14,15,16,.8); border-bottom:1px solid var(--border); backdrop-filter:blur(6px); }
    .sticky-cart-shadow{ box-shadow:var(--shadow); }
    .divider{ border-top:1px solid var(--border); }

    /* LOGO STRIP */
    .logo-hero{
      display:flex; align-items:center; justify-content:center;
      height:72px; position:relative; overflow:hidden;
      background: radial-gradient(1200px 120px at 50% 100%, rgba(255,214,10,.06), transparent 60%);
      border-bottom:1px solid var(--border);
    }
    .logo-hero img{ height:56px; width:auto; }

    /* Fila variante con qty (multi) */
    .qtyrow{ display:grid; grid-template-columns:1fr auto; gap:.75rem; align-items:center; padding:.7rem .8rem; border:1px solid var(--border); border-radius:14px; background:#0c0d0f; }
    .qtyrow.active{ outline:2px solid rgba(34,197,94,.55); }
    .qtytitle{ font-weight:800; color:#fff; }
    .qtydesc{ font-size:.85rem; color:var(--muted); margin-top:.15rem; }
    .qtyprice{ font-weight:800; }
    .qtybox{ display:inline-flex; align-items:center; gap:.25rem; }
    .qtybtn{ border:1px solid var(--border); padding:.15rem .6rem; border-radius:10px; line-height:1; color:#fff; background:transparent; }
    .qtybtn:active{ transform:translateY(1px); }
    .qtynum{ min-width:1.9rem; text-align:center; font-weight:800; }
    .status-open{ color:var(--ok); font-weight:800; }
    .status-closed{ color:#fca5a5; font-weight:800; }
/* Modal oscuro como el resto del sitio */
dialog{
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.55); /* sutil para distinguir interfaz */
}
dialog::backdrop{
  background: rgba(0,0,0,.60); /* separa bien del contenido de atr√°s */
}

/* Evitar cualquier ‚Äúmancha‚Äù blanca dentro del modal */
#variantModal .p-4,
#variantModal .p-0,
#variantModal .rounded-none{
  background: transparent;
}

/* Encabezado y separadores del modal en tema oscuro */
#variantModal .border-b{ border-color: var(--border); }
#variantModal .qtyrow{ background:#0c0d0f; } /* ya lo ven√≠as usando, lo refuerzo */

  </style>
</head>
<body>

  <!-- NAV SUPERIOR -->
  <nav class="sticky top-0 z-50 sticky-nav">
    <div class="max-w-6xl mx-auto px-4 py-2 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <img src="img/logo-demo.jpeg" alt="LADIS Delivery" class="h-8 w-auto rounded">
        <span class="font-extrabold">LADIS Delivery</span>
      </div>
      <div class="hidden sm:flex items-center gap-3">
        <span id="openStatus" class="pill">Cargando horario‚Ä¶</span>
        <a href="#carta" class="pill">Carta</a>
        <a href="#contacto" class="pill">Contacto</a>
      </div>
    </div>
  </nav>

  <!-- LOGO / STRIP -->
  <header class="logo-hero">
    <img src="img/logo-demo.jpeg" alt="Logo LADIS Delivery">
  </header>

  <!-- NAV DE SECCIONES -->
  <nav class="sticky top-[72px] z-40" style="background:rgba(14,15,16,.86); border-bottom:1px solid var(--border);">
    <div class="max-w-6xl mx-auto px-4 py-2">
      <div class="flex items-center gap-2 overflow-x-auto">
        <button data-cat="todo" class="pill active">Todo</button>
        <button data-cat="pizzas" class="pill">Pizzas</button>
        <button data-cat="burgers" class="pill">Hamburguesas</button>
        <button data-cat="lomitos" class="pill">S√°ndwiches de Lomo</button>
        <button data-cat="empanadas" class="pill">Empanadas</button>
        <button data-cat="papas" class="pill">Papas</button>
        <button data-cat="calzones" class="pill">Calzones</button>
        <button data-cat="milanesas" class="pill">Milanesas</button>
        <button data-cat="bebidas" class="pill">Bebidas</button>
      </div>
    </div>
  </nav>

  <!-- CARTA -->
  <main id="carta" class="max-w-6xl mx-auto px-4 py-6">
    <h1 class="text-3xl sm:text-4xl font-extrabold title-yellow mb-1">Carta</h1>
    <p class="muted">Eleg√≠ una categor√≠a, abr√≠ las opciones, sum√° cantidades con <b>+</b>/<b>‚Äì</b> y confirm√° por <b>WhatsApp</b>.</p>
    <p class="muted text-xs mb-4">¬øC√≥mo comprar? 1) Abr√≠ una categor√≠a. 2) Eleg√≠ una o varias opciones y defin√≠ cantidad. 3) Revis√° el carrito y confirm√°.</p>

    <!-- GRID DE CATEGOR√çAS -->
    <section id="grid" class="grid gap-4 sm:grid-cols-2 lg:grid-cols-2 mt-6">
      <!-- PIZZAS -->
      <article class="panel overflow-hidden rounded-2xl" data-category="pizzas">
        <div class="relative h-56">
          <img src="img/pizzas-hero.jpg" alt="Pizzas" class="img-grad absolute inset-0 w-full h-full object-cover">
          <div class="absolute top-3 left-3 flex gap-2"><span class="badge">üçï</span></div>
          <div class="absolute bottom-3 left-3 right-3">
            <h3 class="text-xl font-extrabold title-yellow">Pizzas</h3>
            <p class="muted text-sm">Variantes ‚Ä¢ desde <b id="from-pizzas">$‚Äî</b></p>
            <div class="mt-2 flex justify-end"><button class="btn" data-choose="pizzas">Elegir</button></div>
          </div>
        </div>
      </article>

      <!-- HAMBURGUESAS -->
      <article class="panel overflow-hidden rounded-2xl" data-category="burgers">
        <div class="relative h-56">
          <img src="img/hamburguesas-hero.jpg" alt="Hamburguesas" class="img-grad absolute inset-0 w-full h-full object-cover">
          <div class="absolute top-3 left-3 flex gap-2"><span class="badge">üçî</span></div>
          <div class="absolute bottom-3 left-3 right-3">
            <h3 class="text-xl font-extrabold title-yellow">Hamburguesas</h3>
            <p class="muted text-sm">Variedades ‚Ä¢ desde <b id="from-burgers">$‚Äî</b></p>
            <div class="mt-2 flex justify-end"><button class="btn" data-choose="burgers">Elegir</button></div>
          </div>
        </div>
      </article>

      <!-- LOMITOS -->
      <article class="panel overflow-hidden rounded-2xl" data-category="lomitos">
        <div class="relative h-56">
          <img src="img/lomos-hero.jpg" alt="S√°ndwiches de Lomo" class="img-grad absolute inset-0 w-full h-full object-cover">
          <div class="absolute top-3 left-3 flex gap-2"><span class="badge">ü•ñ</span></div>
          <div class="absolute bottom-3 left-3 right-3">
            <h3 class="text-xl font-extrabold title-yellow">S√°ndwiches de Lomo</h3>
            <p class="muted text-sm">Variedades ‚Ä¢ desde <b id="from-lomitos">$‚Äî</b></p>
            <div class="mt-2 flex justify-end"><button class="btn" data-choose="lomitos">Elegir</button></div>
          </div>
        </div>
      </article>

      <!-- EMPANADAS -->
      <article class="panel overflow-hidden rounded-2xl" data-category="empanadas">
        <div class="relative h-56">
          <img src="img/empanadas-hero.jpg" alt="Empanadas" class="img-grad absolute inset-0 w-full h-full object-cover">
          <div class="absolute top-3 left-3 flex gap-2"><span class="badge">ü•ü</span></div>
          <div class="absolute bottom-3 left-3 right-3">
            <h3 class="text-xl font-extrabold title-yellow">Empanadas</h3>
            <p class="muted text-sm">Unidad o docena ‚Ä¢ desde <b id="from-empanadas">$‚Äî</b></p>
            <div class="mt-2 flex justify-end"><button class="btn" data-choose="empanadas">Elegir</button></div>
          </div>
        </div>
      </article>

      <!-- PAPAS -->
      <article class="panel overflow-hidden rounded-2xl" data-category="papas">
        <div class="relative h-56">
          <img src="img/papas-hero.jpg" alt="Papas" class="img-grad absolute inset-0 w-full h-full object-cover">
          <div class="absolute top-3 left-3 flex gap-2"><span class="badge">üçü</span></div>
          <div class="absolute bottom-3 left-3 right-3">
            <h3 class="text-xl font-extrabold title-yellow">Papas</h3>
            <p class="muted text-sm">Variedades ‚Ä¢ desde <b id="from-papas">$‚Äî</b></p>
            <div class="mt-2 flex justify-end"><button class="btn" data-choose="papas">Elegir</button></div>
          </div>
        </div>
      </article>

      <!-- CALZONES -->
      <article class="panel overflow-hidden rounded-2xl" data-category="calzones">
        <div class="relative h-56">
          <img src="img/calzone-hero.jpg" alt="Calzones" class="img-grad absolute inset-0 w-full h-full object-cover">
          <div class="absolute top-3 left-3 flex gap-2"><span class="badge">üßÄ</span></div>
          <div class="absolute bottom-3 left-3 right-3">
            <h3 class="text-xl font-extrabold title-yellow">Calzones</h3>
            <p class="muted text-sm">Variedades ‚Ä¢ desde <b id="from-calzones">$‚Äî</b></p>
            <div class="mt-2 flex justify-end"><button class="btn" data-choose="calzones">Elegir</button></div>
          </div>
        </div>
      </article>

      <!-- MILANESAS -->
      <article class="panel overflow-hidden rounded-2xl" data-category="milanesas">
        <div class="relative h-56">
          <img src="img/milanesas-hero.jpg" alt="Milanesas" class="img-grad absolute inset-0 w-full h-full object-cover">
          <div class="absolute top-3 left-3 flex gap-2"><span class="badge">ü•©</span></div>
          <div class="absolute bottom-3 left-3 right-3">
            <h3 class="text-xl font-extrabold title-yellow">Milanesas</h3>
            <p class="muted text-sm">Variedades ‚Ä¢ desde <b id="from-milanesas">$‚Äî</b></p>
            <div class="mt-2 flex justify-end"><button class="btn" data-choose="milanesas">Elegir</button></div>
          </div>
        </div>
      </article>

      <!-- BEBIDAS -->
      <article class="panel overflow-hidden rounded-2xl" data-category="bebidas">
        <div class="relative h-56">
          <img src="img/bebidas-hero.jpg" alt="Bebidas" class="img-grad absolute inset-0 w-full h-full object-cover">
          <div class="absolute top-3 left-3 flex gap-2"><span class="badge">ü•§</span></div>
          <div class="absolute bottom-3 left-3 right-3">
            <h3 class="text-xl font-extrabold title-yellow">Bebidas</h3>
            <p class="muted text-sm">Variedades ‚Ä¢ desde <b id="from-bebidas">$‚Äî</b></p>
            <div class="mt-2 flex justify-end"><button class="btn" data-choose="bebidas">Elegir</button></div>
          </div>
        </div>
      </article>
    </section>
  </main>

  <!-- STICKY CART -->
  <div id="stickyCart" class="fixed inset-x-0 bottom-0 z-50 border-t" style="background:rgba(20,21,24,.98); border-color:var(--border); box-shadow:var(--shadow);">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-3">
      <button id="openCart" class="flex-1 btn-outline">Ver carrito (<span id="cartCount">0</span>)</button>
      <button id="checkout" class="btn flex-1">Confirmar por WhatsApp</button>
    </div>
  </div>

  <!-- DRAWER CARRITO -->
  <div id="drawer" class="fixed inset-0 z-[60] hidden">
    <div class="absolute inset-0 bg-black/60" data-close></div>
    <aside class="absolute right-0 top-0 h-full w-full sm:w-[440px] panel p-5 overflow-y-auto border-l" style="border-color:var(--border);">
      <div class="flex items-center justify-between">
        <h3 class="text-xl font-extrabold title-yellow">Tu pedido</h3>
        <button class="btn-outline" data-close type="button">Cerrar</button>
      </div>
      <ul id="cartList" class="mt-4 space-y-4"></ul>
      <div class="mt-6 divider pt-4 grid grid-cols-2 gap-2 items-center">
        <div class="font-extrabold">Total</div>
        <div id="cartTotal" class="text-lg font-extrabold text-right">$0</div>
        <input id="clienteNombre" class="border rounded-xl px-3 py-2 col-span-2" placeholder="Tu nombre" style="background:#0b0c0e; border-color:var(--border); color:var(--text);" />
        <select id="clienteModo" class="border rounded-xl px-3 py-2" style="background:#0b0c0e; border-color:var(--border); color:var(--text);">
          <option value="Retiro">Retiro</option>
          <option value="Delivery">Delivery</option>
        </select>
        <input id="clienteHora" class="border rounded-xl px-3 py-2" placeholder="Hora estimada (ej: 20:30)" style="background:#0b0c0e; border-color:var(--border); color:var(--text);" />
      </div>
      <button id="checkout2" class="btn w-full mt-4" type="button">Enviar por WhatsApp</button>
      <p class="text-xs" style="color:var(--muted);">*Precios e im√°genes ilustrativas.</p>
    </aside>
  </div>

  <!-- MODAL VARIANTES (hero arriba + multi selecci√≥n con qty) -->
  <dialog id="variantModal" class="w-[95vw] max-w-xl p-0">
    <div class="p-0">
      <!-- Header -->
      <div class="p-4 border-b flex items-center justify-between" style="border-color:var(--border);">
        <div>
          <h3 id="vmTitle" class="text-xl font-extrabold title-yellow">T√≠tulo</h3>
          <p id="vmDesc" class="text-sm muted">Eleg√≠ una o varias opciones y defin√≠ cantidades</p>
        </div>
        <button id="vmClose" class="btn-outline" type="button">Cerrar</button>
      </div>

      <!-- Imagen hero de la categor√≠a -->
      <div class="rounded-none overflow-hidden relative" style="border-bottom:1px solid var(--border); background:#0c0d0f;">
        <img id="vmImg" src="" alt="Vista del producto" class="w-full h-56 object-cover">
        <div class="absolute top-2 left-2 badge">Vista del producto</div>
      </div>

      <!-- Lista de variantes -->
      <div class="p-4">
        <div id="vmList" class="space-y-2"></div>

        <!-- Subtotal general del modal -->
        <div class="flex items-center justify-between mt-4">
          <div class="text-sm muted">Subtotal</div>
          <div id="vmSubtotal" class="text-lg font-extrabold text-white">$0</div>
        </div>

        <div class="flex items-center justify-end gap-3 mt-3">
          <button class="btn-outline" id="vmCancel" type="button">Cancelar</button>
          <button id="vmAdd" class="btn" type="button">Agregar al carrito</button>
        </div>
      </div>
    </div>
  </dialog>

  <!-- FOOTER -->
  <footer id="contacto" class="max-w-6xl mx-auto px-4 py-10 text-center text-sm muted">
    LADIS Delivery ‚Ä¢ Pedido por WhatsApp ‚Ä¢ ¬°Gracias por elegirnos!
  </footer>

  <!-- ========= SCRIPTS ========= -->
  <script>
    const BRAND_NAME = "LADIS Delivery";
    const WHATSAPP_NUMBER = "543751562291";
    const CURRENCY = "ARS";

    // === HORARIOS (ajust√° si hace falta) ===
    // Formato: [desde, hasta] en hora local 24h
    // Ejemplo: Lun-Jue 19-00, Vie-S√°b 19-02, Dom 19-00
    const SCHEDULE = {
      0: [[19,24]],     // Domingo
      1: [[19,24]],     // Lunes
      2: [[19,24]],     // Martes
      3: [[19,24]],     // Mi√©rcoles
      4: [[19,24]],     // Jueves
      5: [[19,26]],     // Viernes (hasta 02)
      6: [[19,26]]      // S√°bado (hasta 02)
    };

    function isOpenNow(d=new Date()){
      const day = d.getDay(); // 0 Dom ... 6 S√°b
      const hour = d.getHours() + d.getMinutes()/60;
      const ranges = SCHEDULE[day] || [];
      for(const [from,to] of ranges){
        if(to>=24){
          if(hour>=from || hour<(to-24)) return true; // traspasa medianoche
        } else {
          if(hour>=from && hour<to) return true;
        }
      }
      return false;
    }
    (function setOpenBadge(){
      const badge = document.getElementById('openStatus');
      if(!badge) return;
      if(isOpenNow()){
        badge.textContent = "Abierto ahora";
        badge.classList.add('status-open');
      }else{
        badge.textContent = "Cerrado ahora";
        badge.classList.add('status-closed');
      }
    })();

    // === DATA con detalles (descripciones bajo el nombre) ===
    const MENU = {
      pizzas: {
        title: "Pizzas",
        img: "img/pizzas-hero.jpg",
        variants: [
          { name:"Muzzarella", desc:"Salsa de tomate, muzza y or√©gano", price:9500 },
          { name:"Napolitana", desc:"Tomate, muzza, ajo y tomate en rodajas", price:10500 },
          { name:"Calabresa", desc:"Longaniza calabresa y muzza", price:12500 },
          { name:"Fugazzeta", desc:"Cebolla salteada y muzza", price:12000 },
          { name:"Jam√≥n y Morr√≥n", desc:"Muzza, jam√≥n y morr√≥n", price:12500 },
          { name:"Jam√≥n, Morr√≥n y Huevo", desc:"Muzza, jam√≥n, morr√≥n y huevo", price:13000 },
          { name:"Americana", desc:"Huevo, panceta y verdeo", price:14000 },
          { name:"4 Quesos", desc:"Blend de quesos selecci√≥n", price:12500 },
          { name:"Hawaiana", desc:"Jam√≥n y anan√°", price:12500 },
          { name:"Palmito", desc:"Palmitos y salsa golf", price:13000 },
          { name:"Italiana", desc:"Receta especial de la casa", price:18000 },
          { name:"Camarones", desc:"Camarones salteados", price:18500 }
        ]
      },
      burgers: {
        title: "Hamburguesas (120g, con papas)",
        img: "img/hamburguesas-hero.jpg",
        variants: [
          { name:"Jam√≥n y Queso", desc:"Medall√≥n 120g con jam√≥n y queso", price:8000 },
          { name:"Simple", desc:"Medall√≥n 120g, queso, aderezos", price:8500 },
          { name:"Completa", desc:"Lechuga, tomate, queso y aderezos", price:9800 },
          { name:"Gigante", desc:"M√°s carne, m√°s queso", price:12000 },
          { name:"Especial", desc:"Toque de la casa", price:12000 }
        ]
      },
      lomitos: {
        title: "S√°ndwiches de Lomo",
        img: "img/lomos-hero.jpg",
        variants: [
          { name:"Classic", desc:"Carne o pollo con queso y tomate", price:9000 },
          { name:"Steel", desc:"Carne o pollo con jam√≥n, queso, tomate, lechuga y huevo", price:10000 },
          { name:"Gran Democracia", desc:"Panceta, queso, tomate, lechuga, cebolla y huevo", price:12000 },
          { name:"Lomito de Cerdo Especial", desc:"300 g de cerdo con lechuga, tomate, salsa americana y BBQ + papas", price:12000 },
          { name:"Lomo Ladis", desc:"Morr√≥n, queso, aceituna, huevo, panceta, lechuga, salsas y aros de cebolla", price:14000 }
        ]
      },
      empanadas: {
        title: "Empanadas",
        img: "img/empanadas-hero.jpg",
        variants: [
          { name:"Caprese ‚Äî Unidad", desc:"Mozzarella, tomate y albahaca", price:1500 },
          { name:"Queso y Cebolla ‚Äî Unidad", desc:"Queso fundido con cebolla salteada", price:1500 },
          { name:"Docena (sabores a elecci√≥n, excepto matambre)", desc:"12 unidades surtidas", price:13000 },
          { name:"Docena de Matambre", desc:"12 unidades rellenas de matambre", price:15000 }
        ]
      },
      papas: {
        title: "Papas",
        img: "img/papas-hero.jpg",
        variants: [
          { name:"Cl√°sicas", desc:"Porci√≥n de papas fritas tradicionales", price:4500 },
          { name:"Gratinadas", desc:"Papas con gratinado de queso", price:6000 },
          { name:"Papa Ladis", desc:"Verdeo, panceta y cheddar gratinado", price:8000 },
          { name:"A Caballo", desc:"Papas con dos huevos fritos", price:6000 }
        ]
      },
      calzones: {
        title: "Calzones",
        img: "img/calzone-hero.jpg",
        variants: [
          { name:"Jam√≥n y Queso", desc:"Jam√≥n, queso, huevo y aceitunas", price:7500 },
          { name:"Jam√≥n y Queso con Guarnici√≥n", desc:"Incluye papas fritas", price:8500 },
          { name:"Napolitano", desc:"Jam√≥n, queso, huevo, aceitunas y tomate", price:8000 },
          { name:"Napolitano con Guarnici√≥n", desc:"Con papas fritas", price:9000 },
          { name:"De Carne", desc:"Jam√≥n, queso, aceitunas, huevo y carne", price:9500 },
          { name:"De Pollo", desc:"Jam√≥n, queso, aceitunas, huevo y pollo", price:9500 },
          { name:"De Carne con Guarnici√≥n", desc:"Con papas fritas", price:10500 },
          { name:"De Pollo con Guarnici√≥n", desc:"Con papas fritas", price:10500 }
        ]
      },
      milanesas: {
        title: "Milanesas",
        img: "img/milanesas-hero.jpg",
        variants: [
          { name:"Al Plato Napolitana", desc:"Con guarnici√≥n de papas fritas", price:12000 },
          { name:"Al Plato a Caballo", desc:"Con papas fritas y dos huevos fritos", price:12000 },
          { name:"S√°ndwich de Milanesa Cl√°sico", desc:"Jam√≥n, queso, tomate y lechuga", price:12000 },
          { name:"S√°ndwich de Milanesa Completo", desc:"Jam√≥n, queso, tomate, huevo, panceta y cebolla", price:13000 }
        ]
      },
      bebidas: {
        title: "Bebidas",
        img: "img/bebidas-hero.jpg",
        variants: [
          { name:"Coca-Cola 1,5 L", desc:"Botella familiar", price:3900 },
          { name:"Sprite 1,5 L", desc:"Botella familiar", price:3900 },
          { name:"Pepsi 1,5 L", desc:"Botella familiar", price:3000 },
          { name:"7up 1,5 L", desc:"Botella familiar", price:3000 },
          { name:"Paso de los Toros 1,5 L", desc:"T√≥nica / pomelo", price:3000 },
          { name:"Pepsi 500 ml", desc:"Botella individual", price:1500 },
          { name:"Agua Las Misiones", desc:"Botella", price:2000 },
          { name:"Cerveza Brahma 473 ml", desc:"Lata", price:2000 },
          { name:"Cerveza Quilmes 473 ml", desc:"Lata", price:2000 },
          { name:"Cerveza Imperial Stout", desc:"Lata/botella", price:2800 },
          { name:"Cerveza Stella Artois 473 ml", desc:"Lata", price:3000 },
          { name:"Vino Cordero con Piel de Lobo", desc:"Tinto", price:7000 },
          { name:"Jugo Cepita 1 L", desc:"Variados", price:2200 },
          { name:"Baggio 1 L", desc:"Variados", price:2550 },
          { name:"Sierra de los Padres Pomelo 500 ml", desc:"Envase PET", price:2000 },
          { name:"Sierra de los Padres Pomelo Rosado 500 ml", desc:"Envase PET", price:2000 },
          { name:"Sierra de los Padres Naranja 500 ml", desc:"Envase PET", price:2000 },
          { name:"Sierra de los Padres Manzana 500 ml", desc:"Envase PET", price:2000 },
          { name:"Energizante Speed", desc:"Lata individual", price:2990 },
          { name:"Energizante Monster", desc:"Lata individual", price:3500 }
        ]
      }
    };

    const fmt = n => new Intl.NumberFormat('es-AR',{style:'currency',currency:CURRENCY,maximumFractionDigits:0}).format(n);

    // ‚Äúdesde $‚Äù
    (function setFromPrices(){
      for(const fam in MENU){
        const min = Math.min(...MENU[fam].variants.map(v=>v.price));
        const el = document.getElementById('from-'+fam);
        if(el) el.textContent = fmt(min);
      }
    })();

    // Navegaci√≥n de categor√≠as
    function applyCategory(cat){
      document.querySelectorAll('#grid article').forEach(card=>{
        const okCat = (cat==='todo' || card.getAttribute('data-category')===cat);
        card.style.display = okCat ? "" : "none";
      });
      document.querySelectorAll('nav .pill').forEach(p=>p.classList.remove('active'));
      document.querySelector(`nav .pill[data-cat="${cat}"]`)?.classList.add('active');
    }
    document.querySelectorAll('nav [data-cat]').forEach(btn=>{
      btn.addEventListener('click', ()=> applyCategory(btn.getAttribute('data-cat')) );
    });
    applyCategory('todo');

    // ==== CARRITO ====
    const CART = { items:[], total:0 };
    const cartCount = document.getElementById('cartCount');
    const cartList = document.getElementById('cartList');
    const cartTotal = document.getElementById('cartTotal');
    const drawer = document.getElementById('drawer');

    function addToCart({name,unit,qty}){
      if(qty<=0) return;
      const key = name + "@" + unit;
      const idx = CART.items.findIndex(i=>i.key===key);
      if(idx>-1){ CART.items[idx].qty += qty; }
      else { CART.items.push({ key, name, unit, qty }); }
      recalc(); pingCart();
    }
    function recalc(){
      CART.total = CART.items.reduce((a,b)=>a + b.unit*b.qty, 0);
      cartCount.textContent = CART.items.reduce((a,b)=>a+b.qty,0);
      cartTotal.textContent = fmt(CART.total);
      renderList();
    }
    function renderList(){
      cartList.innerHTML = '';
      if(CART.items.length===0){ cartList.innerHTML = '<li style="color:var(--muted);">Tu carrito est√° vac√≠o.</li>'; return; }
      CART.items.forEach(i=>{
        const li = document.createElement('li');
        li.className = "grid grid-cols-[1fr_auto] gap-2";
        li.innerHTML = `
          <div>
            <div class="font-semibold title-yellow">${i.name}</div>
            <div class="text-sm muted">${fmt(i.unit)} c/u</div>
          </div>
          <div class="flex items-center gap-2 self-center">
            <button class="btn-outline !px-3 !py-1" data-dec='${i.key}' type="button">-</button>
            <span class="w-6 text-center font-semibold">${i.qty}</span>
            <button class="btn-outline !px-3 !py-1" data-inc='${i.key}' type="button">+</button>
          </div>
        `;
        cartList.appendChild(li);
      });
      cartList.querySelectorAll('[data-inc]').forEach(b=>b.onclick=()=>{ const it=CART.items.find(i=>i.key===b.getAttribute('data-inc')); it.qty++; recalc(); });
      cartList.querySelectorAll('[data-dec]').forEach(b=>b.onclick=()=>{ const k=b.getAttribute('data-dec'); const idx=CART.items.findIndex(i=>i.key===k); if(idx>-1){ CART.items[idx].qty--; if(CART.items[idx].qty<=0){ CART.items.splice(idx,1);} recalc(); }});
    }
    function pingCart(){ document.getElementById('stickyCart').animate([{transform:'translateY(0)'},{transform:'translateY(-4px)'},{transform:'translateY(0)'}],{ duration:220, easing:'ease-out' }); }

    document.getElementById('openCart').onclick = ()=> drawer.classList.remove('hidden');
    document.querySelectorAll('#drawer [data-close]').forEach(el=>el.onclick=()=>drawer.classList.add('hidden'));

    function buildOrderMessage(){
      const nombre = document.getElementById('clienteNombre')?.value || "‚Äî";
      const modo   = document.getElementById('clienteModo')?.value || "‚Äî";
      const hora   = document.getElementById('clienteHora')?.value || "‚Äî";
      const lines = CART.items.map(i => `- ${i.qty}√ó ${i.name} ‚Äî ${fmt(i.unit*i.qty)}`);
      return encodeURIComponent([`Pedido ${BRAND_NAME}:`,...lines,`Total estimado: ${fmt(CART.total)}`,`Nombre: ${nombre} | ${modo} | Hora: ${hora}`].join("\n"));
    }
    function goWhatsApp(){
      if(CART.items.length===0){ alert("Tu carrito est√° vac√≠o."); return; }
      window.location.href = `https://wa.me/${WHATSAPP_NUMBER}?text=${buildOrderMessage()}`;
    }
    document.getElementById('checkout').onclick  = goWhatsApp;
    document.getElementById('checkout2').onclick = goWhatsApp;

    // ==== MODAL VARIANTES ====
    const variantModal = document.getElementById('variantModal');
    const vmTitle = document.getElementById('vmTitle');
    const vmImg = document.getElementById('vmImg');
    const vmList = document.getElementById('vmList');
    const vmSubtotal = document.getElementById('vmSubtotal');
    const vmAdd = document.getElementById('vmAdd');
    const vmClose = document.getElementById('vmClose');
    const vmCancel = document.getElementById('vmCancel');

    let currentFam = null;
    let pickState = {}; // {index: qty}

    function openVariants(fam){
      const data = MENU[fam]; if(!data) return;
      currentFam = fam;
      vmTitle.textContent = data.title;
      vmImg.src = data.img;
      vmList.innerHTML = '';
      pickState = {};
      vmSubtotal.textContent = fmt(0);

      data.variants.forEach((v, idx)=>{
        pickState[idx] = 0;
        const row = document.createElement('div');
        row.className = 'qtyrow';
        row.innerHTML = `
          <div>
            <div class="qtytitle">${v.name}</div>
            <div class="qtydesc">${v.desc || ""}</div>
          </div>
          <div class="flex items-center gap-4">
            <div class="qtyprice">${fmt(v.price)}</div>
            <div class="qtybox">
              <button class="qtybtn" data-dec="${idx}" type="button">‚Äì</button>
              <span class="qtynum" id="q${idx}">0</span>
              <button class="qtybtn" data-inc="${idx}" type="button">+</button>
            </div>
          </div>
        `;
        vmList.appendChild(row);
      });

      // Bind +/- handlers (type="button" para NO cerrar el dialog)
      vmList.querySelectorAll('[data-inc]').forEach(b=>{
        b.onclick = ()=>{
          const i = +b.getAttribute('data-inc');
          pickState[i] = (pickState[i]||0) + 1;
          document.getElementById('q'+i).textContent = pickState[i];
          b.closest('.qtyrow').classList.add('active');
          updateModalSubtotal();
        };
      });
      vmList.querySelectorAll('[data-dec]').forEach(b=>{
        b.onclick = ()=>{
          const i = +b.getAttribute('data-dec');
          pickState[i] = Math.max(0, (pickState[i]||0) - 1);
          document.getElementById('q'+i).textContent = pickState[i];
          if(pickState[i]===0) b.closest('.qtyrow').classList.remove('active');
          updateModalSubtotal();
        };
      });

      // Abrir modal
      variantModal.showModal();
    }

    function updateModalSubtotal(){
      const data = MENU[currentFam];
      let subtotal = 0;
      data.variants.forEach((v, idx)=>{ subtotal += v.price * (pickState[idx]||0); });
      vmSubtotal.textContent = fmt(subtotal);
    }

    vmAdd.addEventListener('click', ()=>{
      const data = MENU[currentFam];
      data.variants.forEach((v, idx)=>{
        const qty = pickState[idx]||0;
        if(qty>0){
          addToCart({ name: `${data.title} ‚Äî ${v.name}`, unit: v.price, qty });
        }
      });
      variantModal.close();
    });
    vmClose.addEventListener('click', ()=>variantModal.close());
    vmCancel.addEventListener('click', ()=>variantModal.close());

    // Abrir desde las tarjetas
    document.querySelectorAll('[data-choose]').forEach(b=>b.addEventListener('click',()=>openVariants(b.getAttribute('data-choose'))));
  </script>
</body>
</html>
